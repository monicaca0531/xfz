function NewsList(){}NewsList.prototype.run=function(){this.listenSubmitBtn()},NewsList.prototype.listenSubmitBtn=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var t=s.val(),e=n.attr("data-news-id");console.log(e),xfzajax.post({url:"/news/comment/",data:{content:t,news_id:e},success:function(t){if(200===t.code){var e=t.data,n=template("comment-item",{comment:e});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论成功！"),s.val("")}else window.messageBox.showError(message=t.message)}})})},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImxpc3RlblN1Ym1pdEJ0biIsInN1Ym1pdEJ0biIsIiQiLCJ0ZXh0QXJlYSIsImNsaWNrIiwiY29udGVudCIsInZhbCIsIm5ld3NfaWQiLCJhdHRyIiwiY29uc29sZSIsImxvZyIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb21tZW50IiwidHBsIiwidGVtcGxhdGUiLCJwcmVwZW5kIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dTdWNjZXNzIiwic2hvd0Vycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsWUFJVEEsU0FBU0MsVUFBVUMsSUFBTSxXQUNyQkMsS0FBS0MsbUJBR1RKLFNBQVNDLFVBQVVHLGdCQUFrQixXQUNqQyxJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVdELEVBQUUsNEJBQ2pCRCxFQUFVRyxNQUFNLFdBQ1osSUFBSUMsRUFBVUYsRUFBU0csTUFDbkJDLEVBQVVOLEVBQVVPLEtBQUssZ0JBQzdCQyxRQUFRQyxJQUFJSCxHQUNaSSxRQUFRQyxLQUFLLENBQ1RDLElBQU0saUJBQ05DLEtBQU8sQ0FDTFQsUUFBVUEsRUFDVkUsUUFBVUEsR0FFWlEsUUFBVSxTQUFVQyxHQUNoQixHQUFzQixNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUlDLEVBQVVELEVBQWEsS0FDdkJFLEVBQU1DLFNBQVMsZUFBZSxDQUFDRixRQUFVQSxJQUM3QmYsRUFBRSxpQkFDUmtCLFFBQVFGLEdBQ2xCRyxPQUFPQyxXQUFXQyxZQUFZLFNBQzlCcEIsRUFBU0csSUFBSSxTQUViZSxPQUFPQyxXQUFXRSxVQUFVQyxRQUFRVCxFQUFPUyxlQU8vRHZCLEVBQUUsWUFDZ0IsSUFBSU4sVUFDVkUiLCJmaWxlIjoibmV3c19kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmZ1bmN0aW9uIE5ld3NMaXN0KCkge1xyXG4gICAgXHJcbn1cclxuXHJcbk5ld3NMaXN0LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmxpc3RlblN1Ym1pdEJ0bigpO1xyXG59O1xyXG5cclxuTmV3c0xpc3QucHJvdG90eXBlLmxpc3RlblN1Ym1pdEJ0biA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJCgnLnN1Ym1pdC1idG4nKTtcclxuICAgIHZhciB0ZXh0QXJlYSA9ICQoXCJ0ZXh0YXJlYVtuYW1lPSdjb21tZW50J11cIik7XHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gdGV4dEFyZWEudmFsKCk7XHJcbiAgICAgICAgdmFyIG5ld3NfaWQgPSBzdWJtaXRCdG4uYXR0cihcImRhdGEtbmV3cy1pZFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhuZXdzX2lkKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzonL25ld3MvY29tbWVudC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICdjb250ZW50Jzpjb250ZW50LFxyXG4gICAgICAgICAgICAgICduZXdzX2lkJzpuZXdzX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZShcImNvbW1lbnQtaXRlbVwiLHtcImNvbW1lbnRcIjpjb21tZW50fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRVbCA9ICQoXCIuY29tbWVudC1saXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRVbC5wcmVwZW5kKHRwbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+ivhOiuuuaIkOWKn++8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRBcmVhLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihtZXNzYWdlPXJlc3VsdC5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIG5ld3NsaXN0ID0gbmV3IE5ld3NMaXN0KCk7XHJcbiAgIG5ld3NsaXN0LnJ1bigpO1xyXG59KTsiXX0=
